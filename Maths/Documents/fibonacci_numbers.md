## Fibonacci series.
The infamous series:

$$0,\ 1,\ 1,\ 2,\ 3,\ 5,\ 8,\ 13,\ 21,\ 34,\ 55,\ 89,\ 144,\ ...$$

is generated by adding two previous terms, the series starting from $0$ and $1$. It's recursive definition $fib(n)$ can be defined as:

$$
fib(n)=\begin{cases}
n, & \quad \textrm{if } n \leq 1 \\
fib(n - 1) + fib(n - 2), & \quad \textrm{otherwise}
\end{cases}
$$

```python
def fibonacci_recursive(n: int) -> int:
    """
    Solves fibonacci recurrence relation in O(2^n)
    Note this is not ideal to solve for higher n (for n > 30),
    Since each of f(n - k) term is expanded till n == 1.
    
    ```
    f(n) = f(n - 1) + f(n - 2);    n > 1
         = 1;                      n == 1
         = 0;                      n == 0
    ```
    >>> fibonacci_recursive(6)
    8
    >>> fibonacci_recursive(10)
    55
    """
    return n if n <= 1 else (fibonacci_recursive(n - 1) + fibonacci_recursive(n - 2))

def fibonacci_rec_dynamic(memo: dict, n: int) -> int:
    """
    Calculates fibonacci, but has memo to remember calculations.
    Please refer `fibonacci_recursive`. The motive of memo is to 
    calculate once and store it.

    f(n) = f(n - 1) + f(n - 2) iff n > 1

    f(n - 1) is evaluating f(n - 2) and is stored. When f(n - 2) 
    is evaluated it can be retrieved directly from memo, reducing
    the tree calls.

    This is much faster as memo[n] can retrieve in O(1), making overall
    complexity O(n)
    >>> fibonacci_rec_dynamic({}, 20)
    6765
    >>> fibonacci_rec_dynamic({}, 40)
    102334155
    >>> fibonacci_rec_dynamic({}, 100)
    354224848179261915075
    """
    memo[n] = (memo[n] if n in memo else n if n <= 1 else (fibonacci_rec_dynamic(memo, n - 1) + fibonacci_rec_dynamic(memo, n - 2)))
    return memo[n]
```

- This problem is similar to [[memoization_1d_1#Number of ways/paths to climb the stairs of $n$ steps|Number of ways to climb stairs]] having $n$ steps.

## Closed form expression

Closed form expression for $f(n)$ is:

$$
f(n)=\dfrac{\phi^n-\psi^n}{\sqrt{5}}
$$

where $\phi=\dfrac{1+\sqrt{5}}{2}$ (golden ratio) and $\psi=\dfrac{1-\sqrt{5}}{2}$, by solving the polynomial of recurrence $f(n)=f(n-1)+f(n-2), \implies x^2=x+1$.

## [[linear_recurrence#Matrix form for Fibonacci series|Matrix Form]] for fibonacci series
Matrix form for fibonacci series is:

$$
\begin{array}{cc}
\begin{bmatrix}
F_{n-1} & F_n
\end{bmatrix}&=&
\begin{bmatrix}
F_{n-2} & F_{n-1}
\end{bmatrix}\cdot
\begin{bmatrix}
0 & 1\\
1 & 1
\end{bmatrix}
\end{array}
$$

We'll say $B=\begin{bmatrix}0 & 1\\ 1 & 1\end{bmatrix}$. ([See wikipedia](https://en.wikipedia.org/wiki/Fibonacci_sequence#Matrix_form))

We can write closed form as (can be proved using induction method):

$$
\begin{array}{cc}
\begin{bmatrix}
0 & 1\\
1 & 1
\end{bmatrix}^n
&=&
\begin{bmatrix}
F_{n-1} & F_n\\
F_n & F_{n+1}
\end{bmatrix}\\
(-1)^n&=&F_{n-1} F_{n+1} - F_n^2\\
\end{array}
$$

Multiply this matrix for $m^{th}$ term, we get:

$$
\begin{array}{cc}
B^{n+m}&=&\begin{bmatrix}
F_{n-1} & F_n\\
F_n & F_{n+1}
\end{bmatrix}\cdot\begin{bmatrix}
F_{m-1} & F_m\\
F_m & F_{m+1}
\end{bmatrix}\\ \\
\begin{bmatrix}
F_{m+n-1} & F_{m+n}\\
F_{m+n} & F_{m+n+1}
\end{bmatrix}&=&\begin{bmatrix}
F_{n-1}F_{m-1}+F_m F_n & F_{n-1}F_m+F_nF_{m+1}\\
F_nF_{m-1}+F_{n+1}F_m & F_{n+1}F_m+F_{n+1}F_{m+1}
\end{bmatrix}\\ \\
\implies F_{m+n}&=&F_{n-1}F_m+F_{n}F_{m+1}
\end{array}
$$

Putting $m=n$, and $m=n+1$, we get:

$$
\begin{array}{cl}
F_{2n}&=&F_n\cdot (F_{n-1}+F_{n+1})\\
&=&F_n\cdot(2F_{n-1}+F_n)\\ \\
F_{2n+1}&=&F_{n-1}F_{n+1}+F_nF_{n+2}\\
\end{array}
$$

The first one involves fewer terms.

## Continued Fractional Form
Continued fractional form for this series for golden ratio $\phi$ is

$$
\begin{matrix}
\phi^2&=&\phi + 1\\
\phi&=&1 + \dfrac{1}{\phi}\\
&=&1 + \dfrac{1}{1 + \dfrac{1}{1 + \dfrac{1}{1 + \ddots}}}
\end{matrix}
$$